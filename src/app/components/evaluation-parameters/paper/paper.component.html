<app-card>
  <header class="d-flex align-items-center">

    <h6 class="m-0 font-weight-bold text-primary">
      {{"SCIENTIFIC_ARTICLE" | translate}}
    </h6>
  </header>
  <content>
    <div class="row">
      <div class="col mx-auto fadeInDown">
        <!-- Load file -->
        <div class="form-group mt-3" *ngIf="uploadedArtifacts.length  ==  0">
          <button
            type="button"
            style="margin-top: 10px; margin-left: 10px"
            class="btn btn-outline-dark"
            (click)="fileInput.click()"
          >
           {{"WORD_SELECT_FILE" | translate}}
          </button>
          <input
            #fileInput
            type="file"
            (change)="chooseFileArtifact($event)"
            style="display: none"
          />
        </div>

        <div class="progress" *ngIf="uploadedArtifacts.length  ==  0">
          <div
            *ngIf="progressBarValueArtifact != ''"
            class="progress-bar"
            role="progressbar"
            [style.width.%]="progressBarValueArtifact"
            aria-valuenow="25"
            aria-valuemin="0"
            aria-valuemax="100"
          >
            {{ progressBarValueArtifact }}%
          </div>
        </div>
        <!-- End Load file -->
        <br>
        <div *ngIf="uploadedArtifacts.length > 0">
          <table class="table table-bordered border-dark">
            <thead class="table-dark">
              <tr>
                <th style="width:5cm;text-align: center;">{{"WORD_NAME" | translate}}</th>
                <th style="width:5cm;text-align: center;">{{"WORD_DATE" | translate}}</th>
                <th style="width:5cm; text-align: center;">{{"WORD_OPTIONS" | translate}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let artifact of  uploadedArtifacts">
                <td *ngIf="change_language == true"  style="text-align:center;">{{ChangeName(artifact.name)}}</td>
                <td *ngIf="change_language == false"  style="text-align:center;">{{artifact.name}}</td>
                <td style="text-align:center;">{{changeDate(artifact.createdAt)}}</td>
                <td ><a href="{{artifact.file_url}}" target="_blank" rel="noopener noreferrer" tooltip="{{'SHOW_FILE' | translate}}"
                    style="margin-right: 20px; margin-left: 2cm;">
                    <i class="fa fa-file-pdf-o btn btn-outline-primary" aria-hidden="true"></i>
                  </a>
                  <a  tooltip="{{'UPDATE_FILE' | translate}}" (click)="selectArtifact(artifact)"
                    data-bs-toggle="modal" data-bs-target="#update"  style="margin-right: 20px;">
                    <i class="fa fa-pencil btn btn-outline-warning" aria-hidden="true"></i>
                  </a>
                </td>

              </tr>
            </tbody>
          </table>

        </div>
        <br>
      <a id="btn-pdf" class="btn btn-success text-white"  routerLinkActive="active"
      style="margin-left: 450px" routerLink="../badges" (click)="close()">{{"WORD_GO_BACK" | translate}}</a>
      </div>

    </div>
  </content>
</app-card>

<div class="modal fade" id="update" tabindex="-1" aria-labelledby="update" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="update">
         {{"UPDATE_FILE" | translate }}
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="d-flex justify-content-center form-group mt-3">
          <button type="button" style="margin-top: 10px;" class="btn btn-outline-dark" (click)="file.click()">
           {{"WORD_SELECT_FILE" | translate}}
          </button>
          <input #file type="file" (change)="chooseUpdatedArtifact($event)" style="display: none" />

        </div>
        <div *ngIf="progressBarValueArtifact != ''" class="progress-bar" role="progressbar"
          [style.width.%]="progressBarValueArtifact" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
          {{ progressBarValueArtifact }}%
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">{{"WORD_CLOSE" | translate}}</button>
      </div>
    </div>
  </div>
</div>
