<app-card *ngIf="experimentOwner">
  <header class="d-flex align-items-center">
    <h6 class="m-0 font-weight-bold text-primary">
      {{"INVENTORY_ARTIFACT" | translate }}
    </h6>
  </header>


  <content>
    <div class="row">
      <div class="col mx-auto fadeInDown">
        <div class="d-flex justify-content-center" *ngIf="uploadedArtifacts.length  ==  0">
          <a class="btn btn-primary text-white" routerLinkActive="active" (click)="showPDF()">{{
            "WORD_GENERATE" | translate }}</a>

        </div>
        <div class="d-flex justify-content-center form-group mt-3" *ngIf="uploadedArtifacts.length == 0 && experimentOwner== true">
          <button type="button" *ngIf="!isLoading" style="margin-top: 10px;" class="btn btn-outline-dark"
            (click)="fileInput.click()">
            {{"WORD_SELECT_FILE" | translate}}
          </button>
          <input #fileInput type="file" (change)="chooseFileArtifact($event)" style="display: none" />
        </div>

        <div class="container" *ngIf="uploadedArtifacts.length == 0 && experimentOwner== true">
          <div class="progress">
            <div *ngIf="progressBarValueArtifact != ''" class="progress-bar" role="progressbar"
              [style.width.%]="progressBarValueArtifact" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
              {{ progressBarValueArtifact }}%
            </div>
          </div>
        </div>

        <div *ngIf="uploadedArtifacts.length > 0">

          <table class="table table-bordered border-dark">
            <thead class="table-dark">
              <tr>
                <th style="width:5cm;text-align: center;">{{"WORD_NAME" | translate}}</th>
                <th style="width:5cm;text-align: center;">{{"WORD_DATE" | translate}}</th>
                <th style="width:5cm; text-align: center;">{{"WORD_OPTIONS" | translate}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let artifact of  uploadedArtifacts">
                <td *ngIf="change_language == true"  style="text-align:center;">{{ChangeName(artifact.name)}}</td>
                <td *ngIf="change_language == false"  style="text-align:center;">{{artifact.name}}</td>
                <td style="text-align:center;">{{changeDate(artifact.createdAt)}}</td>
                <td style="text-align:center;">
                  <a
                  type="button"
                  tooltip="{{'WORD_DOWNLOAD' | translate}}"
                  class="btn btn-outline-primary mx-1"
                  (click)="onDown(true,artifact)"
                > <i class="fa fa-download"></i></a>
                  <a  tooltip="{{'UPDATE_FILE' | translate}}" (click)="selectArtifact(artifact)"
                    data-bs-toggle="modal" data-bs-target="#guide"  style="margin-right: 20px;"
                    *ngIf="experimentOwner==true && artifact.is_generated== false">
                    <i class="fa fa-pencil btn btn-outline-warning" aria-hidden="true"></i>
                  </a>

                  <a  tooltip="{{'GENERATE_NEW' | translate}}" (click)="GenerateNewFile(artifact)"
                   style="margin-right: 20px;"
                  *ngIf="experimentOwner==true && artifact.is_generated== true">
                  <i class="fa fa-upload btn btn-outline-info" aria-hidden="true"></i>
                </a>
                  <a   tooltip="{{'DELETE_FILE' | translate}}" (click)="deleteArtifactConfirm(artifact)"
                      style="margin-left:-14px;"
                    *ngIf="experimentOwner==true">
                    <i class="fa fa-trash btn btn-outline-danger" aria-hidden="true"></i>
                  </a>
                </td>

              </tr>
            </tbody>
          </table>

        </div>

        <br>
        <div class="d-flex justify-content-center form-group mt-3">
          <a id="btn-pdf" class="btn btn-success text-white" routerLinkActive="active" routerLink="../badges"
          (click)="close()">{{"WORD_GO_BACK" | translate}}</a>
        </div>
      </div>
    </div>
  </content>
</app-card>

<app-card *ngIf="experimentOwner== false">
  <content>


          <div class="alert alert-info" role="alert" style="width: 50%;
          margin-left: 250px;">
              <h4 class="alert-heading" style="font-weight:bolder;"><i class="fa fa-user fa-2x" aria-hidden="true" style="margin-right:10px;"></i>{{"DEAR_USER"
                  | translate}}</h4>
              <p>{{"NON_PARTICIPANT_EXPERIMENTER" | translate}}</p>
              <hr>
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                  <a id="btn-pdf" class="btn btn-info text-white"
                      routerLinkActive="active" routerLink="../badges"
                      (click)="close()">{{"WORD_GO_BACK" | translate}}</a>
              </div>
          </div>


  </content>
</app-card>


<div class="modal fade" id="guide" tabindex="-1" aria-labelledby="guide" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="example">
          {{"UPDATE_FILE" | translate}}
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="d-flex justify-content-center form-group mt-3">
          <button type="button" style="margin-top: 10px;" class="btn btn-outline-dark" (click)="file.click()">
            {{"WORD_SELECT_FILE" | translate}}
          </button>
          <input #file type="file" (change)="chooseUpdatedArtifact($event)" style="display: none" />

        </div>
        <div *ngIf="progressBarValueArtifact != ''" class="progress-bar" role="progressbar"
          [style.width.%]="progressBarValueArtifact" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
          {{ progressBarValueArtifact }}%
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> {{"WORD_CLOSE" | translate}}</button>
      </div>
    </div>
  </div>
</div>