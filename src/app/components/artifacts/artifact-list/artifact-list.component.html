<div *ngIf="menu_type =='menu'">

  <br>
  <br>

<div class="container">
  <h6 style="margin-top: -0.5cm;font-size: 16px;"><span style="font-weight:bold; color:black"><i class="fa fa-book fa-2x" aria-hidden="true" style="background-color: rgb(51, 167, 90); border-radius: 100%; color:white;  padding: 0.15cm; border: 10px double #ffffff;"></i> {{"STEP_05" | translate}}</span> {{"STEP05_CONTENT"| translate}} </h6>
</div>


<div class="tab-content" id="v-pills-tabContent">
  <div
    class="tab-pane fade"
    id="v-pills-home"
    role="tabpanel"
    aria-labelledby="v-pills-home-tab"
  ></div>
  <div
    class="tab-pane fade show active"
    id="v-pills-products"
    role="tabpanel"
    aria-labelledby="v-pills-products-tab"
  >

    <div class="p-3">
      <div class="card shadow mb-4">
        <div class="card-body">
          <div class="table-responsive">
            <mat-form-field appearance="standard">
              <mat-label><i class="fa fa-search" aria-hidden="true"></i>
                {{"WORD_FILTER" | translate}}</mat-label>
              <input matInput (keyup)="applyFilter($event)"
                placeholder='{{"SEARCH_MSG" | translate}}' #input>
            </mat-form-field>

            <div class="row container-fluid letter" style="margin-top: -50px;">

              <div class="col">
                <ul class="nav justify-content-end">
                  <button
                    type="button"
                    class="btn btn-success mx-1"
                    (click)="openArtifactUploadModal()"
                    data-bs-toggle="modal"
                    data-bs-target="#artifactCreateModal"
                  >{{ "ARTIFACT_UPLOAD" | translate }}
                    <i class="fa fa-cloud-upload"></i>
                  </button>
                  <app-artifact-create
                      [experiment_id]="experiment_id"
                      #appArtifactCreate
                      (saveModal)="getArtifacts()"
                    ></app-artifact-create>
                </ul>
              </div>
            </div>

            <br>

            <div class="mat-elevation-z8">
              <table mat-table [dataSource]="dataSource">

                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef>{{"WORD_NAME" |
                    translate}}</th>
                  <td mat-cell *matCellDef="let artifact">
                            {{artifact.name}}
                  </td>
                </ng-container>

                <ng-container matColumnDef="artifact_purpose">
                  <th mat-header-cell *matHeaderCellDef>{{"WORD_PURPOSE" |
                    translate}}</th>
                  <td mat-cell *matCellDef="let artifact">
                       <div *ngIf="change_language== false">
                        {{artifact.artifact_purpose.name}}
                       </div>
                       <div *ngIf="change_language== true">
                        {{artifact.artifact_purpose.eng_name}}
                       </div>

                  </td>
                </ng-container>

                <ng-container matColumnDef="conected_task">
                  <th mat-header-cell *matHeaderCellDef>{{"WORD_CONNECTED_TO_TASK"| translate}}</th>
                  <td mat-cell *matCellDef="let artifact">{{NotaskAttached(artifact.task?.name)}} </td>
                </ng-container>

                <ng-container matColumnDef="created_date">
                  <th mat-header-cell *matHeaderCellDef>{{"WORD_DATE"| translate}}</th>
                  <td mat-cell *matCellDef="let artifact">
                    {{ changeDate(artifact.createdAt) }}
                  </td>
                </ng-container>

                <ng-container matColumnDef="options">
                  <th mat-header-cell *matHeaderCellDef></th>
                  <td mat-cell *matCellDef="let artifact">
                    <button
                    type="button"
                    class="btn btn-danger mx-1"
                    (click)="deleteArtifactConfirm(artifact)"
                  > <i class="fa fa-trash"></i></button>

                  <button
                  type="button"
                  class="btn btn-warning mx-1"
                  (click)="updateArtifact(artifact)"
                  data-bs-toggle="modal"
                  data-bs-target="#artifactCreateModal"
                > <i class="fa fa-pencil"></i></button>

                <button
                type="button"
                class="btn btn-primary mx-1"
                (click)="onDown(true,artifact)"
              > <i class="fa fa-download"></i></button>
                  </td>

                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns:
                  displayedColumns;"></tr>
                <tr class="mat-row" *matNoDataRow>
                  <td class="mat-cell" colspan="4">{{"NO_DATA_FOUND" |
                    translate}}</td>
                </tr>

              </table>

              <mat-paginator [pageSizeOptions]="[2,4,5,8,10]"
                showFirstLastButtons
                >
              </mat-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <div class="d-grid gap-2 d-md-flex justify-content-md-end" style="position: relative;top: -0.5cm;">
    <button class="btn btn-primary me-md-2" (click)="Back()" type="button"  style="width: 3.5cm;"><i class="fa fa-angle-double-left" aria-hidden="true"></i> {{"BTN_BACK" | translate}}</button>
    <button class="btn btn-primary" (click)="Next()" style="width: 3.5cm;">{{"BTN_NEXT" | translate}}   <i class="fa fa-angle-double-right" aria-hidden="true"></i></button>
  </div>
</div>

</div>
