<!-- Menu Option Step-->
<mat-drawer-container class="example-container" [hasBackdrop]="false">
  <mat-drawer #drawer mode="side" opened class="drawer">
    <mat-list>
      <mat-list-item class="divider">
      </mat-list-item>
      <mat-divider ></mat-divider>
      <mat-list-item >Item 5</mat-list-item>
    </mat-list>
  </mat-drawer>
  <mat-drawer-content class="drawer-content">
      <mat-toolbar color="primary">
        <button mat-icon-button class="example-icon" aria-label="Example
          icon-button with menu icon"
          (click)="drawer.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
        <span>Badge Go</span>
        <span class="example-spacer"></span>
        <button mat-icon-button class="example-icon" aria-label="Example
          icon-button with share icon">
          <mat-icon>share</mat-icon>
        </button>
      </mat-toolbar>
    <div *ngIf="stepValue == 'step'">
      <mat-stepper [linear]="true" #stepper>
        <mat-step>
          <div class="container">
            <h6 style="margin-left: 1cm; margin-top: -0.5cm; font-size: 16px;"><span
                style="font-weight:bold; color:black"><i class="fa fa-flask
                  fa-2x" aria-hidden="true" style="background-color: rgb(51,
                  167, 90); border-radius: 100%; color:white; padding: 0.15cm;
                  border: 10px double #ffffff;"></i> {{"STEP_ONE" | translate}}</span>
              {{"STEP01_CONTENT"| translate}} </h6>

            <div class="alert d-flex
              align-items-center" role="alert" style="height:1.2cm; width:
              15cm; margin-left: 1cm;"
              *ngIf="experiments.length> 0">
              <div *ngIf="selectedExperiment == false">
                <br>
                <h6 style="margin-top: 0.5cm;"> <span style="font-weight:
                    bolder; font-size: 20px;
                    color: darkblue;"><i class="fa fa-exclamation-circle"
                      aria-hidden="true"></i></span> {{"SELECT_EXPERIMENT"
                  | translate}}
                  <i class="fa fa-check" aria-hidden="true"
                    style="font-size: 15px; color: white;
                    background-color: #1cc88a; padding: 0.15cm;
                    border-radius: 0.12cm;"></i>
                  {{"TO_SELECT" | translate}}</h6>
                <br>
              </div>
            </div>

          </div>
          <div class="container-fluid back">
            <div class="row">
              <div class="col-md-10 col-sm-12">
                <div class="tab-content" id="v-pills-tabContent">
                  <div
                    class="tab-pane fade"
                    id="v-pills-home"
                    role="tabpanel"
                    aria-labelledby="v-pills-home-tab"></div>
                  <div
                    class="tab-pane fade show active"
                    id="v-pills-products"
                    role="tabpanel"
                    aria-labelledby="v-pills-products-tab">
                    <!-- Componente Admin Market-->

                    <!-- Content Market-->
                    <div class="p-1" [ngStyle]="{'margin-top':
                      selectedExperiment == true ? '-1.5cm' : '0' }">
                      <div class="card shadow mb-1 " style="margin-left: 4cm;">
                        <div class="card-body">
                          <div class="row">
                            <div class="col-sm-12 col-md-10">
                              <div
                                class="dataTables_length"
                                id="dataTable_length"></div>
                            </div>
                          </div>



                          <!-- Market List-->

                          <mat-form-field appearance="standard">
                            <mat-label><i class="fa fa-search"
                                aria-hidden="true"></i>
                              {{"WORD_FILTER" | translate}}</mat-label>
                            <input matInput (keyup)="applyFilter($event)"
                              placeholder='{{" SEARCH_MSG" | translate}}'
                              #input>
                          </mat-form-field>


                          <div class="col-md-15" style="margin-top: -50px;">
                            <div class="row container-fluid letter">
                              <div class="col">
                                <ul class="nav justify-content-end">
                                  <app-experiment-create
                                    (saveModal)="getExperiments()"></app-experiment-create>
                                </ul>
                              </div>
                            </div>
                          </div>

                          <br>
                          <div class="mat-elevation-z8">
                            <table mat-table [dataSource]="dataSource">
                              <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef>{{"WORD_NAME"
                                  |
                                  translate}}</th>
                                <td mat-cell *matCellDef="let experiment">
                                  {{experiment.name}} </td>
                              </ng-container>
                              <ng-container matColumnDef="country">
                                <th mat-header-cell *matHeaderCellDef>{{"WORD_COUNTRY"
                                  |
                                  translate}}</th>
                                <td mat-cell *matCellDef="let experiment">
                                  {{verificateNoData(experiment.country)}} </td>
                              </ng-container>

                              <ng-container matColumnDef="country_state">
                                <th mat-header-cell *matHeaderCellDef>{{"WORD_COUNTRY_STATE"
                                  |
                                  translate}}</th>
                                <td mat-cell *matCellDef="let experiment">
                                  {{verificateNoData(experiment.country_state)}}
                                </td>
                              </ng-container>

                              <ng-container matColumnDef="created_date">
                                <th mat-header-cell *matHeaderCellDef>{{"WORD_DATE"
                                  |
                                  translate}}</th>
                                <td mat-cell *matCellDef="let experiment">
                                  {{changeDate(experiment.created_date)}} </td>
                              </ng-container>

                              <ng-container matColumnDef="option">
                                <th mat-header-cell *matHeaderCellDef></th>
                                <td mat-cell *matCellDef="let experiment">
                                  <button
                                    tooltip="{{ 'EXP_EDIT' | translate }}"
                                    placement="top"
                                    title
                                    class="btn btn-warning me-1"
                                    data-bs-toggle="modal"
                                    data-bs-target="#oneModal"
                                    (click)="selectExperiment(experiment)">

                                    <i class="fa fa-edit"></i>
                                  </button>
                                </ng-container>
                                <ng-container matColumnDef="select">
                                  <th mat-header-cell *matHeaderCellDef></th>
                                  <td mat-cell *matCellDef="let experiment">
                                    <button
                                      tooltip="{{ 'SHOW_EXP_DETAILS' | translate
                                      }}"
                                      placement="top"
                                      title
                                      class="btn btn-success me-1"
                                      (click)="getIdExperiment (experiment)">
                                      <i class="fa fa-check" aria-hidden="true"></i>
                                    </button>
                                  </ng-container>

                                  <tr mat-header-row
                                    *matHeaderRowDef="displayedColumns"></tr>
                                  <tr mat-row *matRowDef="let row; columns:
                                    displayedColumns;"></tr>
                                  <tr class="mat-row" *matNoDataRow>
                                    <td class="mat-cell" colspan="4">{{"NO_DATA_FOUND"
                                      |
                                      translate}}</td>
                                  </tr>

                                </table>

                                <mat-paginator [pageSizeOptions]="[2, 4,
                                  5,8,10]"
                                  showFirstLastButtons>
                                </mat-paginator>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <button mat-button matStepperNext>Next</button>
              </div>
            </mat-step>

            <mat-step>
              <app-experimenters-list [IdExperiment]="IdExperiment"></app-experimenters-list>
              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
              </div>
            </mat-step>
            <mat-step>
              <app-group-list [IdExperiment]="IdExperiment"></app-group-list>
              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
              </div>
            </mat-step>

            <mat-step>
              <app-task-list [IdExperiment]="IdExperiment"></app-task-list>
              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
              </div>
            </mat-step>

            <mat-step>
              <app-artifact-list [IdExperiment]="IdExperiment"></app-artifact-list>
              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
              </div>
            </mat-step>

            <mat-step>
              <app-acm-artifacts-list [IdExperiment]="IdExperiment"></app-acm-artifacts-list>
              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
              </div>
            </mat-step>

            <mat-step>
              <app-badges-details [IdExperiment]="IdExperiment"></app-badges-details>
              <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
              </div>
            </mat-step>

            <mat-step>

              <app-labpack-list [IdExperiment]="IdExperiment"></app-labpack-list>
              <div>
                <button mat-button matStepperPrevious>Back</button>
              </div>
            </mat-step>
          </mat-stepper>

        </div>
      </mat-drawer-content>
    </mat-drawer-container>







    <!-- Modal -->
    <div
      class="modal fade letter"
      id="oneModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              <b>{{ "EXP_EDIT" | translate }}</b>
            </h5>
            <button
              type="button"
              class="btn btn-close"
              data-bs-dismiss="modal"
              #closeExperimentCreateModal
              aria-label="Close">x</button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col mx-auto fadeInDown">
                <form
                  *ngIf="active"
                  #addExperimentForm="ngForm"
                  [formGroup]="experimentForm">
                  <div class="submit-form">
                    <div class="form-group">
                      <label for="title">{{ "WORD_NAME" | translate }} *</label>
                      <input
                        type="text"
                        class="form-control"
                        formControlName="name"
                        />
                    </div>
                    <div class="submit-form">
                      <div class="form-group">
                        <label for="title">{{ "WORD_COUNTRY" | translate }}
                          *</label>
                        <div class="input-group">
                          <select
                            class="form-control"
                            formControlName="country">
                            <option value="">{{ "WORD_SELECT_COUNTRY" |
                              translate }}</option>
                            <option *ngFor="let country of countries"
                              [value]="country.name">
                              {{ country.name }}
                            </option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="this.experimentForm.value.country"
                      class="submit-form">
                      <div class="form-group">
                        <label for="title">{{ "WORD_PROVINCE" | translate }}
                          *</label>
                        <div class="input-group">
                          <select
                            class="form-control"
                            formControlName="country_state">
                            <option value="">{{
                              "WORD_SELECT_COUNTRY_PROVINCE" | translate }}</option>
                            <option *ngFor="let province of
                              avaliable_states" [value]="province.name">
                              {{ province.name }}
                            </option>
                          </select>
                        </div>
                      </div>
                    </div>
                    <div class="submit-form">
                      <div class="form-group">
                        <label for="title">
                          <abbr tooltip="Digital Object Identifier"
                            placement="top" title>DOI</abbr>
                          {{ "WORD_FROM_EXPERIMENT" | translate }}</label>
                        <input
                          type="text"
                          class="form-control"
                          formControlName="doi_code"
                          />
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="title">{{ "WORD_DATE" | translate }} *</label>
                      <input
                        type="date"
                        class="form-control"
                        formControlName="created_date"
                        />
                    </div>
                    <div class="form-group mt-3">
                      <label for="description">{{ "WORD_DESCRIPTION" |
                        translate }} *</label>
                      <textarea
                        class="form-control"
                        id="description"
                        formControlName="description"
                        rows="3"></textarea>
                    </div>

                    <div class="form-group mt-3">
                      <label for="justification">{{ "EXP_JUSTIFICATION" |
                        translate }} </label>
                      <textarea
                        class="form-control"
                        id="justification"
                        formControlName="justification"
                        rows="3"></textarea>
                    </div>



                    <div class="form-group mt-3">
                      <div class="d-flex">
                        <app-switch
                          [class]="'d-flex align-items-center'"
                          [isChecked]="experimentForm.value.has_scripts"
                          (onChange)="toggleField('has_scripts', $event)">
                        </app-switch>
                        <p class="m-0 pl-2">
                          {{ "HAS_SCRIPTS" | translate }}
                        </p>
                      </div>
                    </div>
                    <div class="form-group mt-3">
                      <div class="d-flex">
                        <app-switch
                          [class]="'d-flex align-items-center'"
                          [isChecked]="experimentForm.value.has_software"
                          (onChange)="toggleField('has_software', $event)">
                        </app-switch>
                        <p class="m-0 pl-2">
                          {{ "HAS_SOFTWARE" | translate }}
                        </p>
                      </div>
                    </div>
                    <div class="form-group mt-3">
                      <div class="d-flex">
                        <app-switch
                          [class]="'d-flex align-items-center'"
                          [isChecked]="experimentForm.value.has_source_code"
                          (onChange)="toggleField('has_source_code',
                          $event)">
                        </app-switch>
                        <p class="m-0 pl-2">
                          {{ "HAS_SOURCE_CODE" | translate }}
                        </p>
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="btn-group d-flex mb-2">
                        <button
                          class="btn"
                          type="button"
                          [class.btn-success]="!is_gqm_objective"
                          [class.btn-secondary]="is_gqm_objective"
                          (click)="is_gqm_objective &&
                          setIsGQMObjective(false)">
                          {{ "EXPERIMENT_OBJETIVE" | translate}} *
                        </button>
                        <button
                          class="btn"
                          type="button"
                          [class.btn-success]="is_gqm_objective"
                          [class.btn-secondary]="!is_gqm_objective"
                          (click)="!is_gqm_objective &&
                          setIsGQMObjective(true)">
                          {{ "EXPERIMENT_OBJETIVE_GQM" | translate }} *
                        </button>
                      </div>
                      <textarea
                        *ngIf="!is_gqm_objective"
                        type="text"
                        class="form-control"
                        formControlName="objective"></textarea>
                      <form
                        class="mx-2"
                        *ngIf="is_gqm_objective"
                        #editGQMForm="ngForm"
                        [formGroup]="gqmObjectiveForm">
                        <div class="form-group input-group-sm d-flex
                          align-items-center">
                          <p class="mr-2 text-nowrap m-0">
                            {{ "GQM_ANALYSIS" | translate }}
                          </p>
                          <input
                            class="form-control"
                            type="text"
                            formControlName="objective_analyze"/>
                          <i
                            tooltip="{{gqmHints.analyse | translate }}"
                            placement="top"
                            title
                            class="fa fa-info-circle ml-1"
                            aria-hidden="true"></i>
                        </div>
                        <div class="form-group input-group-sm d-flex
                          align-items-center">
                          <p class="mr-2 text-nowrap m-0">
                            {{ "GQM_PURPOSE" | translate }}
                          </p>
                          <input
                            class="form-control"
                            type="text"
                            formControlName="with_purpose"/>
                          <i
                            tooltip="{{gqmHints.purposeOf | translate}}"
                            placement="top"
                            title
                            class="fa fa-info-circle ml-1"
                            aria-hidden="true"></i>
                        </div>
                        <div class="form-group input-group-sm d-flex
                          align-items-center">
                          <p class="mr-2 text-nowrap m-0">
                            {{ "GQM_RESPECT" | translate }}
                          </p>
                          <input
                            class="form-control"
                            type="text"
                            formControlName="with_respect_that"/>
                          <i
                            tooltip="{{gqmHints.respectTo | translate}}"
                            placement="top"
                            title
                            class="fa fa-info-circle ml-1"
                            aria-hidden="true"></i>
                        </div>
                        <div class="form-group input-group-sm d-flex
                          align-items-center">
                          <p class="mr-2 text-nowrap m-0">
                            {{ "GQM_VIEWPOINT" | translate }}
                          </p>
                          <input
                            class="form-control"
                            type="text"
                            formControlName="with_viewpoint"/>
                          <i
                            tooltip="{{gqmHints.viewPointOf | translate}}"
                            placement="top"
                            title
                            class="fa fa-info-circle ml-1"
                            aria-hidden="true"></i>
                        </div>
                        <div class="form-group input-group-sm d-flex
                          align-items-center">
                          <p class="mr-2 text-nowrap m-0">
                            {{ "GQM_CONTEXT" | translate }}
                          </p>
                          <input
                            class="form-control"
                            type="text"
                            formControlName="in_the_context_of"/>
                          <i
                            tooltip="{{gqmHints.inTheContextOf |
                            translate}}"
                            placement="top"
                            title
                            class="fa fa-info-circle ml-1"
                            aria-hidden="true"></i>
                        </div>
                      </form>
                    </div>
                  </div>
                  <button
                    type="submit"
                    class="btn btn-success mt-3"
                    (click)="updateExperiment()">
                    {{ "WORD_UPDATE" | translate }}
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="HelpModal" tabindex="-1"
      aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                fill="currentColor"
                class="bi bi-question-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8
                  8 0
                  0 0 0 16z" />
                  <path
                    d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0
                    .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0
                    1.314.343
                    1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206
                    1.06-1.168
                    1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0
                    .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977
                    1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267
                    0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927
                    1.01.927.609 0
                    1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584
                    0-1.009.388-1.009.94z" />
                  </svg> {{"ICON_HELP" | translate}}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="accordion" id="accordionExample">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne" style="border:
                      rgb(161, 158, 158) 1px solid; background-color: rgb(249,
                      249, 249);">
                      <button class="accordion-button collapsed" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseOne"
                        aria-expanded="false" aria-controls="collapseOne"
                        style="color: royalblue; font-weight: bolder;">
                        {{"HOME_SECTION" | translate}}
                      </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse"
                      aria-labelledby="headingOne"
                      data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <p>{{"HOME_SEC_MSG" | translate}}</p>
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo" style="border:
                      rgb(161, 158, 158) 1px solid;background-color: rgb(249,
                      249, 249);">
                      <button class="accordion-button collapsed" type="button"
                        data-bs-toggle="collapse" data-bs-target="#collapseTwo"
                        aria-expanded="false" aria-controls="collapseTwo"
                        style="color: royalblue; font-weight: bolder;">
                        {{"EXPERIMENTS_SECTION" | translate}}
                      </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse"
                      aria-labelledby="headingTwo"
                      data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <div class="alert alert-primary d-flex
                          align-items-center" role="alert" style="height:1.4cm;
                          width:
                          15cm;">
                          <div>
                            <br>
                            <h6 style="margin-top: 0.5cm;"> <span
                                style="font-weight:
                                bolder; font-size: 20px;
                                color: darkblue;"><i class="fa
                                  fa-exclamation-circle"
                                  aria-hidden="true"></i></span>
                              {{"SELECT_EXPERIMENT"
                              | translate}}
                              <i class="fa fa plus" aria-hidden="true"
                                style="font-size: 15px; color: white;
                                background-color: #1f1cc4; padding: 0.20cm;
                                border-radius: 0.12cm; font-family: Arial;">{{"OPT_REGISTER"|
                                translate}}</i>
                              {{"TO_REGISTER" | translate}}</h6>
                            <br>
                          </div>
                        </div>
                        <br>

                        <div class="alert alert-primary d-flex
                          align-items-center" role="alert" style="height:1.4cm;
                          width:
                          15cm;">
                          <div>
                            <br>
                            <h6 style="margin-top: 0.5cm;"> <span
                                style="font-weight:
                                bolder; font-size: 20px;
                                color: darkblue;"><i class="fa
                                  fa-exclamation-circle"
                                  aria-hidden="true"></i></span>
                              {{"SELECT_EXPERIMENT"
                              | translate}}
                              <i class="fa fa-check" aria-hidden="true"
                                style="font-size: 15px; color: white;
                                background-color: #12b076; padding: 0.20cm;
                                border-radius: 0.12cm;"></i>
                              {{"TO_SELECT" | translate}}</h6>
                            <br>
                          </div>
                        </div>
                        <br>
                        <div class="alert alert-primary d-flex
                          align-items-center" role="alert" style="height:1.4cm;
                          width:
                          15cm;">
                          <div>
                            <br>
                            <h6 style="margin-top: 0.5cm;"> <span
                                style="font-weight:
                                bolder; font-size: 20px;
                                color: darkblue;"><i class="fa
                                  fa-exclamation-circle"
                                  aria-hidden="true"></i></span>
                              {{"SELECT_EXPERIMENT"
                              | translate}}
                              <i class="fa fa-edit" aria-hidden="true"
                                style="font-size: 15px; color: white;
                                background-color: #f5cb0e; padding: 0.20cm;
                                border-radius: 0.12cm;"></i>
                              {{"TO_EDIT" | translate}}</h6>
                            <br>
                          </div>

                        </div>

                        <br>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary"
                  data-bs-dismiss="modal">{{"WORD_CLOSE" | translate}}</button>
              </div>
            </div>
          </div>
        </div>